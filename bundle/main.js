/*! For license information please see main.js.LICENSE.txt */
(()=>{var t={783:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});var i=s(893),a=s(951);class n{constructor(){this.canvas=document.getElementById("myCanvas"),this.drawings=[],this.isDrawing=!1,this.skipFrame=0,this.singleDotList=[],this.isLocked=!1,this.color="black",this.smoothing=5,this.canceledPaths=[],this.canvasWidth=()=>this.canvas.width,this.canvasHeight=()=>this.canvas.height,this.ctx=this.canvas.getContext("2d"),this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.canvasPosLeft=this.canvas.offsetLeft+this.canvas.clientLeft,this.canvasPosTop=this.canvas.offsetTop+this.canvas.clientTop,this.canvas.addEventListener("mousedown",(t=>{this.initDrawing(t)})),window.addEventListener("mouseup",(t=>{this.isLocked||this.stopDrawing(t)})),this.canvas.addEventListener("mousemove",(t=>{this.recordMouseMove(t)})),window.addEventListener("resize",(t=>{this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.canvasPosLeft=this.canvas.offsetLeft+this.canvas.clientLeft,this.canvasPosTop=this.canvas.offsetTop+this.canvas.clientTop,this.draw()}))}setColor(t){this.color=t}setSmoothing(t){this.smoothing=t}toggleLockCanvas(){this.isLocked=!this.isLocked}removePath(){if(this.drawings.length){const t=this.drawings.pop();t.toggleDisplay(),this.canceledPaths.push(t),this.draw()}}setFrameToSkip(t){this.smoothing+t>0&&this.smoothing+t<70&&(this.smoothing+=t)}reAddPath(){if(this.canceledPaths.length){const t=this.canceledPaths.pop();t.toggleDisplay(),this.drawings.push(t),this.draw()}}initDrawing(t){this.isDrawing=!0,this.drawings.push(new a.Z(new i.Z(this.getCanvasRelatedCoordinates(t)),this.ctx,this.color))}getCanvasRelatedCoordinates(t){return{posX:t.pageX-this.canvasPosLeft,posY:t.pageY-this.canvasPosTop}}recordMouseMove(t){this.isDrawing&&(this.frameRequest=requestAnimationFrame((()=>{const e=this.drawings[this.drawings.length-1];0===this.skipFrame?(e.addCoordinate(this.getCanvasRelatedCoordinates(t)),e.removeUglyPath(),this.skipFrame=this.smoothing):(e.addUglyCoordinate(this.getCanvasRelatedCoordinates(t)),this.skipFrame--),this.draw()})))}draw(){this.clearCanvas(),this.drawings.forEach((t=>{t.draw()})),this.singleDotList.forEach((t=>{this.ctx.beginPath(),this.ctx.arc(t.x,t.y,3,0,2*Math.PI),this.ctx.fillStyle=this.color,this.ctx.fill()}))}stopDrawing(t=null){t&&this.finishDrawing(t),this.isDrawing=!1}finishDrawing(t){const e=this.drawings[this.drawings.length-1];1===e.path.length?this.singleDotList.push(new i.Z({posX:e.path[0].x,posY:e.path[0].y})):e.path.length>2&&(e.addCoordinate({posX:t.pageX-this.canvasPosLeft,posY:t.pageY-this.canvasPosTop}),e.removeUglyPath()),this.draw()}clearCanvas(){this.ctx.clearRect(0,0,this.canvasWidth(),this.canvasHeight())}}},893:(t,e,s)=>{"use strict";s.d(e,{Z:()=>i});class i{constructor({posX:t,posY:e}){this.x=t,this.y=e}setX(t){this.x=t}setY(t){this.y=t}}},951:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});var i=s(893);class a{constructor(t,e,s="black"){this.path=[],this.uglyPath=[],this.display=!0,this.color=s,this.ctx=e,this.addCoordinate({posX:t.x,posY:t.y}),this.addUglyCoordinate({posX:t.x,posY:t.y})}draw(){this.initPath(),this.createPath(),this.ctx.strokeStyle=this.color,this.ctx.stroke(),this.uglyPath.forEach(((t,e)=>{}))}drawUgly(){this.initPath(),this.createUglyPath(),this.ctx.stroke()}createUglyPath(){this.display&&(this.ctx.moveTo(this.path[0].x,this.path[0].y),this.path.length>2&&this.path.forEach(((t,e)=>{e<this.path.length-1&&this.ctx.quadraticCurveTo(t.x,t.y,this.path[e+1].x,this.path[e+1].y)})))}addCoordinate(t){this.path.push(new i.Z(t))}addCircle(){this.ctx.beginPath(),this.ctx.arc(this.path[0].x,this.path[0].y,12,0,2*Math.PI),this.ctx.fillStyle="blue",this.ctx.fill()}addUglyCoordinate(t){this.uglyPath.push(new i.Z(t))}removeUglyPath(){this.uglyPath=[]}toggleDisplay(){this.display=!this.display}initPath(){this.ctx.beginPath(),this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.lineWidth=5}createPath(){if(this.display){if(this.ctx.moveTo(this.path[0].x,this.path[0].y),this.path.length>2){for(let t=1;t<this.path.length-2;t++){const e=this.path[t],s=this.path[t+1],i=(e.x+s.x)/2,a=(e.y+s.y)/2;this.ctx.quadraticCurveTo(e.x,e.y,i,a)}const t=this.path[this.path.length-2],e=this.path[this.path.length-1];this.ctx.quadraticCurveTo(t.x,t.y,e.x,e.y)}this.uglyPath.length>2&&(this.ctx.moveTo(this.path[this.path.length-1].x,this.path[this.path.length-1].y),this.uglyPath.forEach(((t,e)=>{e<this.uglyPath.length-1&&this.ctx.quadraticCurveTo(t.x,t.y,this.uglyPath[e+1].x,this.uglyPath[e+1].y)})))}}}},769:(t,e,s)=>{},577:(t,e,s)=>{"use strict";s.d(e,{v:()=>a});class i{constructor(t,e="expand",s=!1){this.expandClass="fa-angle-up",this.reducedClass="fa-angle-down",this.targetContainer=t,this.customEvent=e,this.expanded=s,this.init(),t.addEventListener("click",(()=>this.toggleExpansion()))}toggleExpansion(){this.expanded=!this.expanded,class{static emit(t,e=null){const s=new CustomEvent(t,e?{detail:e}:null);window.dispatchEvent(s)}}.emit(this.customEvent,this.expanded),this.removeTargetClass(),this.addTargetClass()}removeTargetClass(){this.target.classList.remove(this.expanded?this.reducedClass:this.expandClass)}addTargetClass(){this.target.classList.add(this.expanded?this.expandClass:this.reducedClass),console.debug("classList => ",this.target.classList)}init(){this.target=this.getTargetFromParentNode(),this.addTargetClass()}getTargetFromParentNode(){for(const t of this.targetContainer.children)if(t.classList.contains("control-expansion-btn"))return this.target=t.children[0]}}class a{constructor(){this.domSettings=document.querySelector("#settings"),this.additionalContent=document.querySelector("#additional-content"),this.allColorList={main:["black","white","blue","red","green","yellow","orange"],custom:[],history:[],secondary:[]},this.allColorList.secondary=n,this.setEventListeners(),this.displayColorsOptions("main"),this.displayColorsOptions("secondary"),this.setSelectedColor(),this.expansionBtn=new i(document.querySelector("#menu-expansion-controller"))}setExpansion(t){t?this.additionalContent.classList.add("expanded"):this.additionalContent.classList.remove("expanded")}undo(){this.emit("undo")}redo(){this.emit("redo")}setSmoothing(t){this.emit("smoothingChange")}mouseEnter(){this.emit("mouseEnterMenu")}mouseLeave(){this.emit("mouseLeaveMenu")}emit(t,e=null){const s=new CustomEvent(t,e?{detail:e}:null);window.dispatchEvent(s)}displayColorsOptions(t){const e=this.allColorList[t],s=document.querySelector("#"+t+"-color-container");e.forEach((e=>{const i=document.createElement("div");i.className="color"+("main"!==t?" secondary-color":""),i.id=e,i.dataset.color=e,i.style.backgroundColor=e,i.addEventListener("click",(t=>{const e=t.target;this.setSelectedColor(e.id)})),s.appendChild(i)}))}setSelectedColor(t="black"){this.selectedColor!==t&&(this.selectedColor=t,this.emit("colorChange",this.selectedColor),this.setSelectedColorDisplay())}setSelectedColorDisplay(){const t=document.getElementsByClassName("color");for(const e of t)e.id===this.selectedColor?e.classList.add("selected"):e.classList.remove("selected")}setEventListeners(){document.querySelector("#undo").addEventListener("click",(()=>this.undo())),document.querySelector("#redo").addEventListener("click",(()=>this.redo())),document.querySelector("#settings").addEventListener("mouseenter",(()=>this.mouseEnter())),document.querySelector("#settings").addEventListener("mouseleave",(()=>this.mouseLeave()))}}const n=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"]},233:(t,e,s)=>{},353:()=>{},326:(t,e,s)=>{"use strict";var i=s(577),a=s(783);document.addEventListener("DOMContentLoaded",(()=>function(){const t=new a.Z,e=new i.v;window.addEventListener("undo",(()=>t.removePath())),window.addEventListener("redo",(()=>t.reAddPath())),window.addEventListener("mouseEnterMenu",(()=>t.toggleLockCanvas())),window.addEventListener("mouseLeaveMenu",(()=>t.toggleLockCanvas())),window.addEventListener("smoothingChange",(e=>t.setSmoothing(e))),window.addEventListener("colorChange",(e=>t.setColor(e.detail))),window.addEventListener("expand",(t=>e.setExpansion(t.detail)))}()))}},e={};function s(i){var a=e[i];if(void 0!==a)return a.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,s),n.exports}s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s(783),s(893),s(951),s(769),s(326),s(577),s(233),s(353)})();